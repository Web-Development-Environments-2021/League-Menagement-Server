openapi: 3.0.0
info:
  title: Simple Inventory API
  description: This is a simple API
  version: 1.0.0
tags:
- name: admins
  description: Secured Admin-only calls
- name: users
  description: Information about the users
- name: developers
  description: Operations available to regular developers
- name: players
  description: Information about the players
- name: coaches
  description: Information about the coaches
- name: teams
  description: Information about the teams
- name: games
  description: Information about the gemes
paths:
  /register:
    post:
      tags:
      - admins
      summary: this is the register
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/userSignUp'
        required: true
      responses:
        "201":
          description: ok created
  /login:
    post:
      tags:
      - admins
      summary: this is the login
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/userLogIn'
        required: true
      responses:
        "201":
          description: ok login
        "401":
          description: user dosn't exist
        "403":
          description: user don't have permission
  /logout:
    post:
      tags:
        - Auth
      summary: logout a user from the system and delete his cookie
      responses:
        "200":
          description: "the user has ben successfully logged out"
  /prescreenplayer:
    get:
      tags:
      - players
      responses:
        "200":
          description: ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/playerObject'
        "402":
          description: player not found
  /prescreencocah:
    get:
      tags:
      - coaches
      responses:
        "200":
          description: ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cocahObject'
        "402":
          description: coache not found
  /displaypastgames:
    get:
      tags:
      - games
      responses:
        "200":
          description: ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/pastGame'
        "402":
          description: player not found
  /displayfuturegames:
    get:
      tags:
      - games
      responses:
        "200":
          description: ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/futureGame'
        "402":
          description: player not found
  /search/{search}:
    get:
      tags:
      - team
      - player
      - match
      summary: returns list of search result (team\player\match)
      operationId: search
      parameters:
      - name: search
        in: path
        description: free text for search
        required: true
        style: simple
        explode: false
        schema:
          $ref: '#/components/schemas/search'
      responses:
        "200":
          description: search results
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/result'
        "204":
          description: nothing found
        "400":
          description: bad input parameter
  /teams/teamFullDetails/{teamId}: 
    get:
      tags:
      - user
      summary: favorite team
      description: return favorite teams of the user
      operationId: getMyTeams
      parameters:
      - name: username
        in: path
        description: users username
        required: true
        style: simple
        explode: false
        schema:
          type: string
          example: shimon123
      responses:
        "200":
          description: user found teams found
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/team'
        "404":
          description: teamId is not exists
  /league/getDetails:
    get:
      tags:
        - league
      summary: Return the details about the current league
      responses:
        "200":
          description: data about the current league returned
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/League"
        "400":
          description: wrong input parameters
components:
  schemas:
    userSignUp:
      required:
      - confirmationpassword
      - country
      - email
      - firstname
      - lastname
      - password
      - username
      type: object
      properties:
        username:
          maxLength: 8
          minLength: 5
          type: string
          description: username contains between 3 to 8 letters and digits only
          example: BIBI is the best
        firstname:
          type: string
          description: user's fisrt name
          example: BIBI
        lastname:
          type: string
          description: user's last name
          example: The king
        country:
          type: string
          description: user's last name
          example: god's land
        password:
          maxLength: 10
          minLength: 5
          type: string
          description: |
            password must contians between 6 to 10 chars, at least one char and one spicial letter
          format: password
          example: $5r5r5r5
        confirmationpassword:
          maxLength: 10
          minLength: 5
          type: string
          description: |
            password must contians between 6 to 10 chars, at least one char and one spicial letter example: $5r5r5r5
          format: password
        email:
          type: string
          description: user's email
          format: email
          example: jon@doe.com
        imgae-url:
          type: string
          description: URL for the user's image
          format: URL
          example: http://com.cloudinary://https
    userLogIn:
      type: object
      properties:
        username:
          type: string
          example: bibi
        password:
          type: string
          example: $5r5r5r5
    playerObject:
      type: object
      properties:
        image-url:
          type: string
          example: https://upload.wikimedia.org/wikipedia/he/3/3/BeitarJerusalemCrestStar2020.png
        playername:
          type: string
          example: israel
        teamname:
          type: string
          example: Beitar Jerusalem F.C.
        playerposition:
          type: string
          example: Goolkeeper
    cocahObject:
      type: object
      properties:
        image-url:
          type: string
          example: https://upload.wikimedia.org/wikipedia/he/3/3/BeitarJerusalemCrestStar2020.png
        playername:
          type: string
          example: israel
        teamname:
          type: string
          example: Beitar Jerusalem F.C.
        playerposition:
          type: string
          example: choach
    pastGame:
      type: object
      properties:
        date:
          type: string
          example: 10 May 2021
        time:
          type: string
          example: "1080"
        hostTeam:
          type: string
          example: Beitar Jerusalem F.C.
        gusetTeam:
          type: string
          example: Arab F.C
        filed:
          type: string
          example: Tedi
        result:
          example: Host 10 Guset 0
        gamesSchedule:
          example: 10 May 2021
    futureGame:
      type: object
      properties:
        date:
          type: string
          example: 10 May 2021
        time:
          type: string
          example: "1080"
        hostTeam:
          type: string
          example: Beitar Jerusalem F.C.
        gusetTeam:
          type: string
          example: Arab F.C
        filed:
          type: string
          example: Tedi
    result:
      type: object
      properties:
        id:
          type: string
          example: "1234"
        category:
          type: string
          example: team
    team:
      type: object
      properties:
        id:
          type: string
          example: "123"
        team_name:
          type: string
          example: barcelona
        logo_url:
          type: string
          example: https://upload.wikimedia.org/wikipedia/he/3/3/BeitarJerusalemCrestStar2020.png
        players:
          type: array
          items:
            type: object
            $ref: "#/components/schemas/PlayerPreview"
    search:
      type: object
      properties:
        query:
          type: string
          example: messi
        numOfResults:
          type: integer
          example: 5
        category:
          type: string
          example: team
    League:
      type: object
      properties:
        league_name:
          type: string
          description: league name
          example: Superliga
        current_season_name:
          type: string
          description: current season name
          example: "2020/2021"
        current_stage_name:
          type: string
          description: current stage name
          example: Championship Round